Date: 2026-01-29

Important Links

* MatrixOS – the swarm agents and supporting files (install to server or use Phoenix’s railgun):
  [https://github.com/matrixswarm/matrixos](https://github.com/matrixswarm/matrixos)

* Phoenix – the swarm’s GUI:
  [https://github.com/matrixswarm/phoenix](https://github.com/matrixswarm/phoenix)

⚠️ It’s advised to update Phoenix and MatrixOS simultaneously.

---

COMMIT: MatrixSwarm – Threaded Connector Overhaul & Autonomous Session Teardown & Email_Send Custom Panel

Date: 2026-01-29
Scope: Phoenix → MatrixSwarm Core → Connector Infrastructure
Requires: Phoenix reload after update.

## Overview

 This update introduces the ConnectionLauncher architecture — a unified threading and connection control system designed to orchestrate persistent and ephemeral connectors (WSS, HTTPS, SMTP, and future protocols) within Phoenix sessions.

 The new system replaces ad-hoc thread management with a centralized launcher that:

 Dynamically loads connector classes at runtime

 Supervises them via a persistent registry

 Supports auto-monitoring, heartbeat tracking, and full lifecycle teardown

Key Additions

 1. ConnectionLauncher / ConnectionLauncher

    - Handles all connector thread creation and termination.

    - Supports both persistent (e.g. WebSocket) and ephemeral (e.g. HTTPS/SMTP) connectors.

    - Includes automatic relaunch and heartbeat validation via background monitor loop.

    - Exposes destroy_all() for full-swarm annihilation during session closure.

2. Deployment Integration

   - Each deployment now spawns its own isolated ConnectionLauncher, stored under
     ctx.group["connection_launcher"] or flattened as ctx.connection_launcher.

   - This guarantees session-bound thread control, eliminating orphaned connectors.

   - Hooks seamlessly into the SessionWindow.closeEvent() pipeline for automatic teardown.

3. Connector Overhaul

  - WSS, HTTPS, and SMTP connectors now inherit from the unified BaseConnector class.

  - Standardized run_once() and run_loop() patterns simplify connector logic.

  - Built-in heartbeat and stop-flag signaling ensure clean exits across all protocols.

  - SPKI pinning, RSA signing, and secure teardown preserved across connector families.

4. Autonomous Session Destruction

  - New destroy_all() method in ConnectionLauncher ensures clean thread termination.

  - Integrates with SessionWindow.closeEvent() to automatically kill all threads on user exit.

  - destroy_session() in deployment_connector now handles full bus unhooking and channel cleanup.

5. Bus Unhook Utility

  - Introduced unhook_bus_handlers(ctx) helper to detach all ConnectorBus and SessionBus listeners before teardown.

  - Prevents memory leaks and ghost event calls after session termination.

  Deployment Notes

   - The launcher is automatically instantiated during _connect_single() in deployment_connector.

   - ctx.connection_launcher.destroy_all() safely terminates all connections when closing a window.

   - No manual thread or socket cleanup is required elsewhere in the codebase.



## Email Send Panel Fix

  Location: matrix_gui/core/panel/custom_panels/email_send/email_send.py

  Fixes: Restores the send_to field in the Email Send panel UI.

  Functionality: Allows users to specify a target email address for outbound relays via the Email_Send agent.

  Issue: Field was previously missing from the panel, limiting usability.

## Cert Loader Path Normalization

  Location: matrix_gui/core/utils/cert_loader.py

  Fix: Cosmetic cleanup of debug logs to ensure consistent, OS-correct path formatting (using os.path.join / normpath).

  Result: Paths like Temp/cert_xyz.pem are now logged as C:\Users\...Temp\cert_xyz.pem on Windows.

## Swarm Metadata Enhancements

  Files:

  agents_meta/sora.json

  agents_meta/uptime_sentinel.json

  Purpose: Metadata used by the swarm_workspace and new agent config editors (Sora, Sentinel, Uptime Sentinel).

  Enhancement: Enables clean population of agent roles, fields, and defaults within dynamic editor UIs.



# Closing Statement

Commit signed by:
Commander & The Generals — Victory Always Division

“When the swarm sleeps, the launcher dreams.
And when the Commander calls, every thread obeys.”

Important links
- Video demos: https://dragoart.com/video/public/listing/
- MatrixOS (install to server or use Phoenix’s railgun): https://github.com/matrixswarm/matrixos
- Contact for full Sora Integration or Help: swarm@matrixswarm.com